<!DOCTYPE html>
<html>
    
<head>
    <meta charset="UTF-8">
    <title> Cluster Example open_eGo</title>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5.1/leaflet.css" />
    
     <style type="text/css">
            body {
                font: 14px/1.5 "Helvetica Neue", Helvetica, Arial, sans-serif;
                padding: 0px;
                margin: 0px;
            }
            
            a {
                text-decoration: none;
                color: #050505;
            }

            a:hover {
                color: #5e5e5e;
            }

            #header-container {
                text-align: center;
                width: 100%;
                height: 120px;
            }

            #header {
                height: 40px;
                padding: 16px 0px 0px 0px;
            }

            h1 {
                font-family: 'Open Sans', sans-serif;
                font-size: 36px;
                margin: 0px;
            }

            #description {
                line-height: 0px;
                font-style: italic;
            }

            #map {
                top: 120px;
                width: 100%;
                position: absolute;
                background: #fff;
            }
        </style>
    <script src="http://cdn.leafletjs.com/leaflet-0.5.1/leaflet.js"></script>
    <script src="http://leaflet-extras.github.com/leaflet.css/dist/leaflet.css.bundle.min.js"></script>
<!-- Add jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<!-- Add Map background -->   
    <script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js?v1.3.0"></script>
<!-- Add Map Data -->  

<!-- Add Map fullscreen -->   
<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>
<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />
</head>

<body>
    
<div id="map" class="leaflet-container leaflet-fade-anim leaflet-grab leaflet-touch-drag" style="width:900px;height:600px" tabindex="0">
    <div class="leaflet-pane leaflet-map-pane" style="transform: translate3d(0px, 0px, 0px);">
        <div class="leaflet-pane leaflet-tile-pane">
            <div class="leaflet-layer " style="z-index: 1; opacity: 1;">
            <div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 18; transform: translate3d(0px, 6px, 0px) scale(1);">
                <img alt="" role="presentation" src="example/Watermark%20control%20-%20Leaflet_files/0.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(44px, 0px, 0px); opacity: 1;">
                <img alt="" role="presentation" src="example/Watermark%20control%20-%20Leaflet_files/0_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(300px, 0px, 0px); opacity: 1;">
                <img alt="" role="presentation" src="example/Watermark%20control%20-%20Leaflet_files/1.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(44px, 256px, 0px); opacity: 1;">
                <img alt="" role="presentation" src="example/Watermark%20control%20-%20Leaflet_files/1_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(300px, 256px, 0px); opacity: 1;">
                <img alt="" role="presentation" src="example/Watermark%20control%20-%20Leaflet_files/0_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-212px, 0px, 0px); opacity: 1;">
                <img alt="" role="presentation" src="example/Watermark%20control%20-%20Leaflet_files/0.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(556px, 0px, 0px); opacity: 1;">
                <img alt="" role="presentation" src="example/Watermark%20control%20-%20Leaflet_files/1_002.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-212px, 256px, 0px); opacity: 1;">
                <img alt="" role="presentation" src="example/Watermark%20control%20-%20Leaflet_files/1.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(556px, 256px, 0px); opacity: 1;"></div>
            
            </div></div><div class="leaflet-pane leaflet-shadow-pane"></div>
        <div class="leaflet-pane leaflet-overlay-pane"></div>
        <div class="leaflet-pane leaflet-marker-pane"></div>
        <div class="leaflet-pane leaflet-tooltip-pane"></div>
        <div class="leaflet-pane leaflet-popup-pane"></div>
        
    <div class="leaflet-proxy leaflet-zoom-animated"></div></div>
    <div class="leaflet-control-container">
    <div class="leaflet-top leaflet-left">
        <div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in" href="#" title="Zoom in" role="button" aria-label="Zoom in">+</a>
            <a class="leaflet-control-zoom-out" href="#" title="Zoom out" role="button" aria-label="Zoom out">-</a></div>
    </div>
    <div class="leaflet-top leaflet-right"></div>
    <a href="https://www.github.com" target="_blank" alt="Logo" >
        <div class="leaflet-bottom leaflet-left">
        <img class="leaflet-control" src="https://openegoproject.files.wordpress.com/2017/02/open_ego_logo_breit.png?w=200" style="width: 200px;">
        </div> </a>
        <div class="leaflet-bottom leaflet-right">
    <div class="leaflet-control-attribution leaflet-control"><a href="http://leafletjs.com/" title="A JS library for interactive maps">Leaflet</a> | WDB Media</div>
    </div>
    </div>
    </div>


<script  type="text/javascript">
        
        
      // replace "toner" here with "terrain" or "watercolor"
            var layer = new L.StamenTileLayer("toner");
        
            var map = new L.Map("map", {
                zoom: 8,
               //fullscreenControl: true,
                // OR
                fullscreenControl: {
                    pseudoFullscreen: false // if true, fullscreen to page width and height
                },
                center: new L.LatLng(54.5, 9.614)

            });
            map.addLayer(layer);  
    
      // Colors of Elements
        function getColor(d) {
            return d > 1000 ? '#800026' :
               d > 100  ? '#BD0026' :
               d > 80  ? '#E31A1C' :
               d > 50  ? '#FC4E2A' :
               d > 30   ? '#FD8D3C' :
               d > 20   ? '#FEB24C' :
               d > 10   ? '#FED976' :
                          '#FFEDA0';
            }

        function style(feature) {
		return {
			weight: 2,
			opacity: 1,
			color: 'white',
			dashArray: '3',
			fillOpacity: 0.7,
			fillColor: getColor(feature.properties.SN_V2)
		};
	   }

         
           function onEachFeature(feature, layer) {
                  var popupContent = "<p>See my Results from a GeoJSON as:  " +
                        feature.geometry.type + "  <br> Great or?</p>";

                  if (feature.properties && feature.properties.GEN) {
                      popupContent += feature.properties.GEN;
                }

                layer.bindPopup(popupContent);
            }

        L.geoJSON([shKreis, shGemeinde], {                              // geo js objekte laden  poly und punkt

           style: style,
            
          // style: function (feature) {
          //      return feature.properties && feature.properties.style;   // name var einbinden ?
          //  },

            onEachFeature: onEachFeature,

            pointToLayer: function (feature, latlng) {
                return L.circleMarker(latlng, {
                    radius: 8,
                    fillColor: "#ff7800",
                    color: "#000",
                    weight: 1,
                    opacity: 1,
                    fillOpacity: 0.8
                    });
                }
            }).addTo(map);
        
      
         
       L.tileLayer('http://{s}.tile.stamen.com/toner-hybrid/{z}/{x}/{y}.png', {attribution: 'Stamen'}).addTo(map);

        
        L.geoJSON(shLine, {  // Lines geo objekte

            filter: function (feature, layer) {
                if (feature.properties) {
				// If the property "underConstruction" exists and is true, return false (don't render features under construction)
				return feature.properties.underConstruction !== undefined ? !feature.properties.underConstruction : true;
			}
			return false;
		},

		onEachFeature: onEachFeature
	}).addTo(map);
        
    // warermark logo 
	L.Control.Watermark = L.Control.extend({
		onAdd: function(map) {
			var img = L.DomUtil.create('img');
			
			img.src = 'https://openegoproject.files.wordpress.com/2017/02/open_ego_logo_breit.png?w=200';
			img.style.width = '200px';
			
			return img;
		},
		
		onRemove: function(map) {
			// Nothing to do here
		}

        });

        L.control.watermark = function(opts) {
            return new L.Control.Watermark(opts);
        }

        L.control.watermark({ position: 'bottomleft' }).addTo(map);

    // add legend
    	var legend = L.control({position: 'bottomright'});

        legend.onAdd = function (map) {

            var div = L.DomUtil.create('div', 'info legend'),
                grades = [0, 10, 20, 50, 100, 200, 500, 1000],
                labels = [],
                from, to;

            for (var i = 0; i < grades.length; i++) {
                from = grades[i];
                to = grades[i + 1];

                labels.push(
                    '<i style="background:' + getColor(from + 1) + '"></i> ' +
                    from + (to ? '&ndash;' + to : '+'));
            }

            div.innerHTML = labels.join('<br>');
            return div;
        };

        legend.addTo(map);
        
        
    // Fullscreen
        map.isFullscreen() // Is the map fullscreen?
        map.toggleFullscreen() // Either go fullscreen, or cancel the existing fullscreen.

        // `fullscreenchange` Event that's fired when entering or exiting fullscreen.
        map.on('fullscreenchange', function () {
            if (map.isFullscreen()) {
                console.log('entered fullscreen');
            } else {
                console.log('exited fullscreen');
            }
        });
        
        
</script>
</body>
    
</html>
